import{a}from"./axios.da025002.js";const n=document.querySelector("template");window.onload=d();async function d(){try{const t=await(await a.get("https://character-database.becode.xyz/characters")).data;console.log(t);for(let e=0;e<t.length;e++){console.log(t[e].image);let r=document.importNode(n.content,!0);t[e].image==""||t[e].image==null?r.querySelector("#card_image").src="./src/assets/not-found.jpg":r.querySelector("#card_image").src=`data:image/gif;base64,${t[e].image}`,r.querySelector("#card_charName").innerText=`${t[e].name}`,r.querySelector("#card_nickName").innerText=`${t[e].shortDescription}`,r.querySelector("#card_description").innerHTML=`${t[e].description}`,r.querySelector("#readMore_button").href=`card.html?${t[e].id}`,r.querySelector("#readMore_button").innerText="See the Character",r.querySelector("#dropdown").id=`dropdown${[e]}`,r.querySelector("#dropdownButton").setAttribute("data-dropdown-toggle",`dropdown${[e]}`),r.querySelector("#dropdownDelete").addEventListener("click",async()=>{confirm(`You are about to delete ${t[e].name}'s entry. Are you sure you want to continue? This cannot be undone.`)&&(await a.delete(`https://character-database.becode.xyz/characters/${t[e].id}`),alert("The selected entry has been successfully removed."),window.location.href="index.html")}),r.querySelector("#dropdownEdit").href=`form.html?${t[e].id}`,document.body.insertBefore(r,document.querySelector("#newCard"))}document.querySelector("body").setAttribute("class","bg-gray-800 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-11/12 m-auto gap-4"),document.querySelector("#newButton").classList.remove("hidden"),document.querySelector("#tilt").src="vanilla-tilt.js";let o=document.querySelector("#searchBar");o.classList.remove("hidden"),o.addEventListener("keyup",e=>{console.log(e.key),o.value.length==0}),document.querySelector("#flowbite").src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js",document.querySelector("#loading").classList.add("hidden")}catch(c){console.log(c)}}
